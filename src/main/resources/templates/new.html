<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<title>Club | New Customer</title>


<head>
    <link rel="stylesheet" th:href="@{/styles.css}">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link th:href="@{/bootstrap5.css}" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
<header class="page-header">

    <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="/">Club Name</a>
            </div>
            <div class="collapse navbar-collapse" id="mynavbar">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/new}">
                            <img th:src="@{images/new.png}" width="25px" height="25px" alt="new" title="new">
                            New
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/view}">
                            <img th:src="@{images/view.png}" width="25px" height="25px" alt="view" title="view">
                            View all
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/stat}">
                            <img th:src="@{images/stat.png}" width="30px" height="30px" alt="stat" title="stat">
                            Statistics
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>


</header>

<form method="POST" th:action="@{/new}" th:object="${newCustomer}">
    <div class="errors">
        <span class="alert alert-danger" th:if="${#fields.hasErrors('${newCustomer.name}')}" th:value="${#fields.hasErrors('name')}" th:errors="*{name}">Name Error</span>
        <span class="alert alert-danger" th:if="${nameError}" th:text="${nameError}">Error</span>
    </div>
    <div class="errors">
        <span class="alert alert-danger" th:if="${#fields.hasErrors('mobileno')}" th:errors="*{mobileno}">Name Error</span>
    </div>
    <div class="errors">
        <span class="alert alert-danger" th:if="${#fields.hasErrors('money')}" th:errors="*{money}">Money Error</span>
    </div>
    <div class="errors">
        <span class="alert alert-danger" th:if="${#fields.hasErrors('date')}" th:errors="*{date}">Date Error</span>
    </div>
    <div class="errors">
        <span class="alert alert-danger" th:if="${#fields.hasErrors('type')}" th:errors="*{type}">Type Error</span>
    </div>
    <div class="errors">
        <span class="alert alert-danger" th:if="${#fields.hasErrors('period')}" th:errors="*{period}">Period Error</span>
    </div>
    <div class="errors">
        <span class="alert alert-danger" th:if="${periodError}" th:text="${periodError}">Error</span>
    </div>

    <p>New Customer</p>
    <div class="input">
        <label>Name </label>
        <input type="text" id="floatingTextInput" th:field="*{name}"/>
    </div>

    <div class="input">
        <label>Mobile Number </label>
        <input type="text" th:field="*{mobileno}"/>
    </div>

    <div class="input">
        <label>Money </label>
        <input type="number" th:field="*{money}"/>
    </div>
    <div class="input">
        <label>Date of Registration </label>
        <input type="date" th:field="*{date}"/>
    </div>

    <div class="input">
        <label>Membership Type </label>
<!--        <select th:field="*{type}">-->
<!--            <option type="text" th:value="select">Select Type</option>-->
<!--            <option type="text" th:value="${true}">Member</option>-->
<!--            <option type="text" th:value="${false}">One Time User</option>-->
<!--        </select>-->
        <label>
        <input type="checkbox" name="type" th:checked="*{type}" onclick="myFunction()" id="myCheck"/>
        Is Member
        </label>
    </div>

    <div class="input" id="text" style="display:none">
        <label>Period </label>
        <input type="number" th:field="*{period}"/>
    </div>

    <input type="submit" value="Submit"/>
</form>
<script th:inline="javascript">
    function myFunction() {
  // Get the checkbox
  var checkBox = document.getElementById("myCheck");
  // Get the output text
  var text = document.getElementById("text");

  // If the checkbox is checked, display the output text
  if (checkBox.checked == true){
    text.style.display = "inline-block";
  } else {
    text.style.display = "none";
  }
}

function error() {
  // Get the checkbox
  var errorBox = document.getElementsByClassName("alert alert-danger");
  // Get the output text
  var error = document.getElementById("error");

  // If the checkbox is checked, display the output text
  if (/*[[${nameError}]]*/){
    errorBox.style.display = "inline-block";
  } else {
    errorBox.style.display = "none";
  }
}
</script>
</body>

</html>