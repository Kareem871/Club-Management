<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<title>Statistics</title>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link th:href="@{/bootstrap5.css}" rel="stylesheet">
    <!--    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>-->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.1/jquery.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/jquery-ui.min.js"></script>
    <link rel="stylesheet" type="text/css" media="screen" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/themes/base/jquery-ui.css">
    <script type="text/javascript">
        $(function() {
            $('.date-picker').datepicker( {
            changeMonth: true,
            changeYear: true,
            dateFormat: 'yy-mm',
            onClose: function(dateText, inst) {
                $(this).datepicker('setDate', new Date(inst.selectedYear, inst.selectedMonth, 1));
            }
            });
        });
    </script>
    <style>
        .ui-datepicker-calendar {
            display: none;
        }
        div.ui-datepicker {
            font-size:14px;
        }
        .date-picker {
            flex:0 0 auto;
            width:25%;

        }
    </style>
</head>

<body>
    <header class="page-header">

        <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="/">Club Name</a>
                </div>
                <div class="collapse navbar-collapse" id="mynavbar">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item">
                            <a class="nav-link" th:href="@{/new}">
                                <img th:src="@{images/new.png}" width="25px" height="25px" alt="new" title="new">
                                New
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" th:href="@{/view}">
                                <img th:src="@{images/view.png}" width="25px" height="25px" alt="view" title="view">
                                View all
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" th:href="@{/stat}">
                                <img th:src="@{images/stat.png}" width="30px" height="30px" alt="stat" title="stat">
                                Statistics
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <div class="container">
        <form th:action="@{/stat}" method="GET">
            <div class="mb-3 mt-3">
                <input type="text" id="startDate" class="date-picker" name="date" th:value="${date}"/>
        <!--        <input type="year" class="col-sm-3" th:value="${year}"/>-->
                <input type="submit" class="btn btn-dark" value="Search"/>
            </div>
        </form>
    </div>

    <div class="container">
        <table class="table table-bordered table-striped">
            <thead>
            <tr>
                <th>Year</th>
                <th>Month</th>
                <th>Visitors</th>
                <th>Money</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="report : ${report}">
                <td th:text="${report.year}"/>
                <td th:text="${report.month}"/>
                <td th:text="${report.visitors}"/>
                <td th:text="${report.sum}"/>
            </tr>
            </tbody>
        </table>
    </div>

</body>
</html>